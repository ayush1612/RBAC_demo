apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    app.kubernetes.io/name: argocd-rbac-cm
    app.kubernetes.io/part-of: argocd
  name: argocd-rbac-cm
  namespace: argocd

data:
  policy.product-b.csv: |
    p, role:prodBdev, applications, get, product-b-project/product-b-dev, allow
    p, role:prodBdev, applications, sync, product-b-project/product-b-dev, allow
    p, role:prodBdev, applications, delete, product-b-project/product-b-dev, deny

    p, role:prodBdev, applications, get, product-b-project/product-b-qa, allow
    p, role:prodBdev, applications, sync, product-b-project/product-b-qa, deny
    p, role:prodBdev, applications, delete, product-b-project/product-b-qa, deny

    p, role:prodBdev, applications, get, product-b-project/product-b-prod, allow
    p, role:prodBdev, applications, sync, product-b-project/product-b-prod, deny
    p, role:prodBdev, applications, delete, product-b-project/product-b-prod, deny

    g, prodBdev, role:prodBdev




    p, role:prodBqa, applications, get, product-b-project/product-b-qa, allow
    p, role:prodBqa, applications, sync, product-b-project/product-b-qa, allow
    p, role:prodBqa, applications, delete, product-b-project/product-b-qa, deny

    p, role:prodBqa, applications, get, product-b-project/product-b-dev, allow
    p, role:prodBqa, applications, sync, product-b-project/product-b-dev, deny
    p, role:prodBqa, applications, delete, product-b-project/product-b-dev, deny

    p, role:prodBqa, applications, get, product-b-project/product-b-prod, allow
    p, role:prodBqa, applications, sync, product-b-project/product-b-prod, deny
    p, role:prodBqa, applications, delete, product-b-project/product-b-prod, deny

    g, prodBqa, role:prodBqa




    p, role:prodBprod, applications, get, product-b-project/product-b-prod, allow
    p, role:prodBprod, applications, sync, product-b-project/product-b-prod, allow
    p, role:prodBprod, applications, delete, product-b-project/product-b-prod, deny

    p, role:prodBprod, applications, get, product-b-project/product-b-qa, allow
    p, role:prodBprod, applications, sync, product-b-project/product-b-qa, deny
    p, role:prodBprod, applications, delete, product-b-project/product-b-qa, deny


    p, role:prodBprod, applications, get, product-b-project/product-b-dev, allow
    p, role:prodBprod, applications, sync, product-b-project/product-b-dev, deny
    p, role:prodBprod, applications, delete, product-b-project/product-b-dev, deny

    g, prodBprod, role:prodBprod
